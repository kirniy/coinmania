(()=>{var e={};e.id=178,e.ids=[178],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},5498:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(5282),r(3855),r(5866);var s=r(3191),a=r(8716),n=r(7922),o=r.n(n),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5282)),"/Users/kirniy/Downloads/Folder/demojuly30/src/app/profile/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,3855)),"/Users/kirniy/Downloads/Folder/demojuly30/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/kirniy/Downloads/Folder/demojuly30/src/app/profile/page.tsx"],u="/profile/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8459:(e,t,r)=>{Promise.resolve().then(r.bind(r,2607))},2607:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(326),a=r(7577),n=r(1074),o=r(844),i=r(1175);let l=()=>{let e=(0,a.useContext)(n.t),[t,r]=(0,a.useState)(null),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0),[x,p]=(0,a.useState)(0);return((0,a.useEffect)(()=>{console.log("App data:",e)},[e]),(0,a.useEffect)(()=>{let t=async()=>{try{let t=await fetch(`/api/user/data?id=${e.initDataUnsafe.user?.id}`);if(!t.ok)throw Error("Network response was not ok");let s=await t.json();r(s.user)}catch(e){d(e instanceof Error?e.message:"Unknown error occurred")}finally{u(!1)}},s=async()=>{try{let t=await fetch(`/api/user/referrals?id=${e.initDataUnsafe.user?.id}`);if(!t.ok)throw Error("Network response was not ok");let r=await t.json();p(r.referralsCount)}catch(e){console.error("Error fetching referrals count:",e)}};e.initDataUnsafe.user?.id&&(t(),s())},[e.initDataUnsafe.user?.id]),c)?s.jsx(i.Z,{loading:c}):s.jsx("div",{className:"bg-zinc-950 min-h-screen flex flex-col items-center justify-center text-white p-6",children:(0,s.jsxs)("div",{className:"w-full max-w-lg flex flex-col gap-6 mx-auto bg-gradient-to-br from-black to-zinc-900 rounded-xl shadow-lg overflow-hidden",children:[s.jsx(o.Z,{}),(0,s.jsxs)("div",{className:"flex flex-col items-center p-8 bg-gradient-to-br from-gray-900 to-gray-800 w-full rounded-lg",children:[s.jsx("div",{className:"uppercase tracking-wide text-indigo-500 text-3xl font-extrabold",children:e.initDataUnsafe.user?.first_name}),(0,s.jsxs)("p",{className:"mt-2 text-gray-400 text-lg",children:["⭐ ",t?.scores]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-900 to-black p-6 rounded-lg shadow-inner",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 bg-green-900 w-full text-center p-2 rounded-lg",children:"\uD83D\uDCCA Статистика"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 text-lg",children:[(0,s.jsxs)("p",{children:["\uD83D\uDC46 Всего тапов: ",t?.scores]}),(0,s.jsxs)("p",{children:["\uD83D\uDD76 Друзей приглашено: ",x]})]})]}),s.jsx("div",{className:"flex items-center justify-center mt-4 rounded-md",children:s.jsx("button",{className:"text-zinc-950 font-bold text-center p-4 bg-yellow-400 rounded-md hover:bg-yellow-500 transition",onClick:()=>{let t=`https://t.me/hearthneuro_bot/demo?startapp=${e.initDataUnsafe.user?.id}`;navigator.clipboard.writeText(t).then(()=>{alert("Скопировано!")},e=>{alert("Ошибка копирования!")})},children:"Скопировать реферальную ссылку"})})]})})};function d(){let e=(0,a.useContext)(n.t),[t,r]=(0,a.useState)(!0);return t?s.jsx(i.Z,{loading:t}):s.jsx(s.Fragment,{children:s.jsx(s.Fragment,{children:e.version?s.jsx(l,{}):s.jsx(i.Z,{loading:t})})})}},844:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(326);r(7577);var a=r(434),n=r(281);let o=()=>(0,s.jsxs)("div",{className:"bg-gradient-to-r from-zinc-900 to-zinc-950 w-full h-[80px] flex items-center justify-between px-4",children:[s.jsx(a.default,{href:"/",children:s.jsx(n.Z,{className:"text-white hover:text-zinc-50"})}),s.jsx("div",{className:"flex-grow text-center",children:s.jsx("img",{src:"/images/logo.svg",alt:"Logo",className:"h-14 mx-auto"})}),s.jsx("div",{className:"w-10"})," "]})},5282:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>i});var s=r(8570);let a=(0,s.createProxy)(String.raw`/Users/kirniy/Downloads/Folder/demojuly30/src/app/profile/page.tsx`),{__esModule:n,$$typeof:o}=a;a.default;let i=(0,s.createProxy)(String.raw`/Users/kirniy/Downloads/Folder/demojuly30/src/app/profile/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,32,593,978,278],()=>r(5498));module.exports=s})();