"use strict";(()=>{var e={};e.id=932,e.ids=[932],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},9737:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>j,requestAsyncStorage:()=>c,routeModule:()=>h,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var s={};r.r(s),r.d(s,{POST:()=>p});var a=r(9303),o=r(8716),n=r(670),i=r(6113),u=r(7070);async function p(e){let t=process.env.BOT_TOKEN;if("POST"!==e.method)return u.NextResponse.json({error:"Method not allowed"},{status:405});let r=await e.json();if(!r.hash)return u.NextResponse.json({error:"Missing required field hash"},{status:400});if(!t)return u.NextResponse.json({error:"Internal server error"},{status:500});let s=Object.fromEntries(new URLSearchParams(r.hash));return await d(s,t)?u.NextResponse.json({ok:!0}):u.NextResponse.json({error:"Invalid hash"},{status:403})}async function d(e,t){let r=Object.keys(e).filter(e=>"hash"!==e).map(t=>`${t}=${e[t]}`).sort().join("\n"),s=(0,i.createHmac)("sha256","WebAppData").update(t).digest(),a=(0,i.createHmac)("sha256",s).update(r).digest("hex");return e.hash===a}let h=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/route",pathname:"/api/auth",filename:"route",bundlePath:"app/api/auth/route"},resolvedPagePath:"/Users/kirniy/Downloads/Folder/demojuly30/src/app/api/auth/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m}=h,x="/api/auth/route";function j(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},9303:(e,t,r)=>{e.exports=r(517)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,70],()=>r(9737));module.exports=s})();